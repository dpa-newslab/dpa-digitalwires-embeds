<html>
<body>
    <h1>Embedding dnl-wgcharts</h1>
    <code>
        &lt;dnl-wgchart src="https://webgrafik.dpa-addons.com/customers/client/aws/my/html/index.html?pathSrc=aktuell/2022_07_11/nordStream_1/cont&amp;nameCSS=style_1_2.css&amp;versionScript=2.7"&gt;&lt;/dnl-wgchart&gt;
    </code>
    <h2>Using postMessage</h2>
    <iframe frameborder="0" id="webchart-1" src="https://webgrafik.dpa-addons.com/customers/client/aws/my/html/index.html?pathSrc=aktuell/2022_07_11/nordStream_1/cont&amp;nameCSS=style_1_2.css&amp;versionScript=2.7" width="100%"></iframe>
    <script>
        const iframe = document.querySelector("iframe#webchart-1");
        iframe.setAttribute("src", `${iframe.getAttribute("src")}&id=${iframe.getAttribute("id")}&childId=${iframe.getAttribute("id")}`);

        const resize = (postedMessage) => {
            console.log(postedMessage);
            
            if(postedMessage.data.embed == this.iframe.id){
                this.iframe.style.height = `${postedMessage.data.height}px`
            }else if(typeof (postedMessage.data) == "string" && "pym" == postedMessage.data.slice(0, 3)){
                let message = postedMessage.data.split("x");
                console.log(message)
                if (message[2] == iframe.id) {
                    iframe.style.height = message.slice(-1) + "px"
                }
            }

        };

        window.addEventListener("message", (postedMessage) => {
            resize(postedMessage);
        });
    </script>

    <h2>Using dpa.js</h2>
    <div data-app="dpa-webgrafik" data-embed-type="pym" data-src="https://webgrafik.dpa-addons.com/customers/client/aws/my/html/index.html?pathSrc=aktuell/2022_07_11/nordStream_1/cont&amp;nameCSS=style_1_2.css&amp;versionScript=2.7"></div>
    <script type='text/javascript' src='https://core.dpa-infocom.net/js/dpa.js'></script>
</body>
</html>